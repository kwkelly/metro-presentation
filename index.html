<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/blue.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section class="title-slide">
					<div class="header">
						<h1>Metro Math </br>
							<img src="metro.png" style="size=100%"></img>
						</h1>
						<div style="color: #FFFFFF; position: absolute; left: 0; text-align: left; padding: 20px">
							This presentation at: </br>
							<a href="https://www.kwkelly.com/pres/metro-pres/">kwkelly.com/pres/metro-pres/</a>
						</div>
						<div style="color: #FFFFFF; position: absolute; right: 0; padding: 20px">
							<ul>
								<li>
									Keith Kelly
								</li>
								<li>
									<a href="https://kwkelly.com/">
										<i class="fa fa-mouse-pointer fa-fw"></i>
										kwkelly.com
									</a>
								</li>
								<li>
									<a href="mailto:mail@kwkelly.com/">
										<i class="fa fa-envelope fa-fw"></i>
										mail@kwkelly.com
									</a>
								</li>
								<li>
									<a href="https://twitter.com/KeithKelly">
										<i class="fa fa-twitter fa-fw"></i>
										@KeithKelly
									</a>
								</li>
								<li>
									<a href="https://github.com/kwkelly/">
										<i class="fa fa-github fa-fw"></i>
										kwkelly
									</a>
								</li>
								<ul>
						</div>
				</section>
				<section class="other-slide">
					<div class="header">
						<h2>A Typical Day</h2>
						<div style="color: #2C3E50; position: absolute; text-align: left; padding: 20px">
							<span class="fragment fade-in">
								<p>You're on your way to work, heading home, or going to meet some friends...</p>
							</span>
							<span class="fragment fade-in">
								<p>... and you walk into the station and see this: </p>
							</span>
							<span class="fragment fade-in">
								<img class="center" src="pid.jpg" style="width: auto; height: auto;"></img>
							</span>
						</div>
					</div>
				</section>
				<section class="other-slide">
					<div class="header">
						<h2>Waiting for <strike>Godot</strike> Metro</h2>
						<div style="color: #2C3E50; padding: 20px; text-align: left;">
							<h3>Fact:</h3>
							<ul>
								<li>Riders hate waiting for trains; waiting time is regarded as wasted time.</li>
							</ul>
							<h3>Questions:</h3>
							<ul>
								<li>So how long do Metrorail riders typically wait for their trains?</li>
								<li>How can we figure out how long riders wait?</li>
							</ul>
						</div>
					</div>
				</section>
				<section class="other-slide">
					<div class="header">
						<h2>Analysis Map</h2>
						<div style="color: #2C3E50; padding: 20px; text-align: center;">
							Train Positions &rarr; Train Headways &rarr; Passenger Waiting Times
								<img class="center imrotate" src="orange.png" style="width: auto; height: auto;"></img>
						</div>
					</div>
				</section>
				<section class="other-slide">
					<div class="header">
						<h2>Train Positions</h2>
						<div style="color: #2C3E50; padding: 20px; text-align: left;">
							<ul>
								<li>Old rail predictions API <i class="fa fa-thumbs-down" aria-hidden="true"></i></li>
									<ul>
										<li>Tough to reliably determine if it's a new train at a station</li>
									</ul>
								<li>Newer train positions API <i class="fa fa-thumbs-up" aria-hidden="true"></i></li>
									<ul>
										<li>CircuitId &larr; Standard Routes API to determine if circuit is at a station</li>
										<li>DestinationStationCode</li>
										<li>DirectionNum</li>
										<li>LineCode</li>
										<li>TrainId</li>
									</ul>
							</ul>
						</div>
					</div>
				</section>
				<section class="other-slide">
					<div class="header">
						<h2>Getting Headways</h2>
						<div style="color: #2C3E50; padding: 20px; text-align: left;">
							<p>Given the train position data and the time of the query</p>
						</div>
					</div>
				</section>
				<section class="other-slide">
					<div class="header">
						<h2>Estimating Wait Times</h2>
						<div style="color: #2C3E50; padding: 20px; text-align: left;">
							<p>So how are wait times estimated?</p>
							<p>We start with the </p>
							<p>$$w(t) = \frac{\int_t^{\infty} h(s)ds}{\int_0^{\infty}s\,h(s)ds}$$</p>
							<p></p>
						</div>
					</div>
				</section>
					</div>
			</div>

			<script src="lib/js/head.min.js"></script>
			<script src="js/reveal.js"></script>

			<script>
// More info https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
	history: true,
	center: false,
	width: '100%',
	height: '100%',

	math: {
		mathjax: 'https://cdn.mathjax.org/mathjax/latest/MathJax.js',
		config: 'TeX-AMS_HTML-full'  // See http://docs.mathjax.org/en/latest/config-files.html
	},
	// More info https://github.com/hakimel/reveal.js#dependencies
	dependencies: [
	{ src: 'plugin/markdown/marked.js' },
	{ src: 'plugin/markdown/markdown.js' },
	{ src: 'plugin/notes/notes.js', async: true },
	{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
	{ src: 'plugin/math/math.js', async: true }
	]
});
			</script>
	</body>
</html>
